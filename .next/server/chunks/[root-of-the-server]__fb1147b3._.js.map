{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///workspace/demo-gallery/src/app/api/resources/%5B...path%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { readFile } from \"fs/promises\";\nimport { existsSync } from \"fs\";\nimport path from \"path\";\nimport mime from \"mime-types\";\n\nconst SHARED_RESOURCES_PATH = path.join(process.cwd(), \"..\", \"demo-gallery-deployment\", \"resources\");\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ path: string[] }> }\n) {\n  try {\n    const { path: pathArray } = await params;\n    const filePath = path.join(SHARED_RESOURCES_PATH, ...pathArray);\n    \n    // Security check: ensure the file path is within the shared resources directory\n    const resolvedPath = path.resolve(filePath);\n    const resolvedResourcesPath = path.resolve(SHARED_RESOURCES_PATH);\n    \n    if (!resolvedPath.startsWith(resolvedResourcesPath)) {\n      return NextResponse.json({ error: \"Access denied\" }, { status: 403 });\n    }\n    \n    if (!existsSync(filePath)) {\n      return NextResponse.json({ error: \"File not found\" }, { status: 404 });\n    }\n    \n    const fileBuffer = await readFile(filePath);\n    const mimeType = mime.lookup(filePath) || \"application/octet-stream\";\n    \n    return new NextResponse(fileBuffer, {\n      headers: {\n        \"Content-Type\": mimeType,\n        \"Cache-Control\": \"public, max-age=31536000, immutable\",\n      },\n    });\n  } catch (error) {\n    console.error(\"Error serving file:\", error);\n    return NextResponse.json({ error: \"Internal server error\" }, { status: 500 });\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,MAAM,wBAAwB,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,2BAA2B;AAEjF,eAAe,IACpB,OAAoB,EACpB,EAAE,MAAM,EAA2C;IAEnD,IAAI;QACF,MAAM,EAAE,MAAM,SAAS,EAAE,GAAG,MAAM;QAClC,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,0BAA0B;QAErD,gFAAgF;QAChF,MAAM,eAAe,4GAAI,CAAC,OAAO,CAAC;QAClC,MAAM,wBAAwB,4GAAI,CAAC,OAAO,CAAC;QAE3C,IAAI,CAAC,aAAa,UAAU,CAAC,wBAAwB;YACnD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAgB,GAAG;gBAAE,QAAQ;YAAI;QACrE;QAEA,IAAI,CAAC,IAAA,2GAAU,EAAC,WAAW;YACzB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACtE;QAEA,MAAM,aAAa,MAAM,IAAA,iIAAQ,EAAC;QAClC,MAAM,WAAW,mJAAI,CAAC,MAAM,CAAC,aAAa;QAE1C,OAAO,IAAI,gJAAY,CAAC,YAAY;YAClC,SAAS;gBACP,gBAAgB;gBAChB,iBAAiB;YACnB;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF","debugId":null}}]
}